!function r(c,a,u){function s(t,e){if(!a[t]){if(!c[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(d)return d(t,!0);var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}var o=a[t]={exports:{}};c[t][0].call(o.exports,function(e){return s(c[t][1][e]||e)},o,o.exports,r,c,a,u)}return a[t].exports}for(var d="function"==typeof require&&require,e=0;e<u.length;e++)s(u[e]);return s}({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t,n){this.object=e,this.timerService=t,this.updateService=n}return e.prototype.init=function(){var u=this;AFRAME.registerComponent("cubik-component",{init:function(){u.updateService.update(u.object.scoreId,u.object.player.score),u.updateService.update(u.object.targetId,u.object.getCubeCount()),u.timerService.Start()}}),AFRAME.registerComponent("cubik-collectable-component",{init:function(){var c=document.querySelector("#scene"),a=document.querySelector("#"+u.object.feedbackTextElementId);this.el.addEventListener("click",function(e){var t=e.srcElement;if(t.classList.contains("error")||u.object.player.incrementUserScore(),u.object.getCubeCount()===u.object.player.score&&(u.timerService.Stop(),0<u.timerService.counter&&u.updateService.update(u.object.feedbackTextElementId,u.object.successText),a.setAttribute("visible","true")),t.setAttribute("visible","false"),t.classList.contains("spawn")){for(var n=document.createElement("a-box"),i=t.getAttributeNode("position").textContent.split(" "),o="",r=0;r<t.attributes.length;r++)n.setAttribute(t.attributes[r].nodeName,t.attributes[r].nodeValue);i.forEach(function(e){var t=Number(e)+.1;o+=t}),n.setAttribute("position",o),n.classList.remove("error","spawn"),n.classList.add("reward"),n.setAttribute("color","green"),c.appendChild(n),u.updateService.update(u.object.scoreId,u.object.player.score),u.updateService.update(u.object.targetId,u.object.getCubeCount())}u.updateService.update(u.object.scoreId,u.object.player.score),u.updateService.update(u.object.targetId,u.object.getCubeCount())})}})},e}();n.CubikComponent=i},{}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){this.object=e,this.navigateService=t}return e.prototype.init=function(){var n=this;AFRAME.registerComponent("navigate-component",{init:function(){var t=this;n.object.onEvents.forEach(function(e){t.el.addEventListener(e,function(e){n.object.event=e,n.navigateService.init(n.object)})})}})},e}();n.NavigateComponent=i},{}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){this.navigateComponent=e,this.cubikComponent=t}return e.prototype.init=function(){this.navigateComponent.init(),this.cubikComponent.init()},e}();n.IndexController=i},{}],4:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(e,t,n,i,o,r,c,a){var u=this;this.getCubeCount=function(){return document.querySelectorAll("."+u.cubeClass+".reward").length},this.cubeClass=e,this.scoreId=t,this.targetId=n,this.cubeCount=i,this.player=o,this.feedbackTextElementId=r,this.successText=c,this.failedText=a};n.CubikModel=i},{}],5:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(e,t,n){this.cameraId=e,this.yConstraint=t,this.onEvents=n};n.NavigateComponentModel=i},{}],6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(e,t){var n=this;this.incrementUserScore=function(){return n.score++},this.decreaseUserScore=function(){return n.score--},this.name=e,this.score=t};n.PlayerModel=i},{}],7:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(){}return e.prototype.init=function(e){var t=document.querySelector("#"+e.cameraId);if(null!==t){var n=e.event.detail.intersection.point,i=n.x,o=e.yConstraint?0:n.y,r=n.z+.7;t.setAttribute("animation","property: position; dir: alternate; dur: 2000; easing: easeInOutSine; startEvents: navigate-animate; to:"+i+" "+o+" "+r+";"),t.emit("navigate-animate"),t.emit("navigate-navigated")}},e}();n.NavigateComponentService=i},{}],8:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(){}return e.prototype.update=function(e,t){var n=document.querySelector("#"+e);n.setAttribute("text","value",t),!1===n.getAttribute("visible")&&n.setAttribute("visible",!0)},e}();n.UpdateService=i},{}],9:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./Services/NavigateComponentService"),o=e("../../typeScript/Services/TimerService"),r=e("./Services/updateService"),c=e("./Models/NavigateComponentModel"),a=e("./Models/CubikModel"),u=e("./Components/NavigateComponent"),s=e("./Components/CubikComponent"),d=e("./Controllers/IndexController"),l=e("./Models/PlayerModel"),p=new i.NavigateComponentService,v=new r.UpdateService,b=new o.TimerService(10,"timer","feedbackText","Game Over",v),f=new c.NavigateComponentModel("player",!1,["click"]),m=new l.PlayerModel("Joe Bloggs",0),C=new a.CubikModel("cube","score","target",0,m,"feedbackText","LEVEL COMPLETE!","YOU FAILED!"),S=new u.NavigateComponent(f,p),g=new s.CubikComponent(C,b,v);new d.IndexController(S,g).init()},{"../../typeScript/Services/TimerService":10,"./Components/CubikComponent":1,"./Components/NavigateComponent":2,"./Controllers/IndexController":3,"./Models/CubikModel":4,"./Models/NavigateComponentModel":5,"./Models/PlayerModel":6,"./Services/NavigateComponentService":7,"./Services/updateService":8}],10:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t,n,i,o){this.duration=e,this.counter=0,this.target=t,this.completionTargetId=n,this.completionMessage=i,this.updateService=o}return e.prototype.Start=function(){var e=this,t=this.duration;this.interval=setInterval(function(){e.updateService.update(e.target,t),e.counter=t,--t<0&&(e.Stop(),e.updateService.update(e.completionTargetId,e.completionMessage))},1e3)},e.prototype.Stop=function(){clearInterval(this.interval)},e}();n.TimerService=i},{}]},{},[9]);